<!DOCTYPE html>
<html lang="uk">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–Ü–º–µ–Ω–∏–Ω–Ω–∏–∫–∏</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 50%, #43e97b 100%);
      min-height: 100vh;
      color: #333;
      line-height: 1.6;
    }
    
    /* –°—Ç–∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
    .auth-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(10px);
    }
    
    .auth-container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 25px 50px rgba(0,0,0,0.2);
      max-width: 400px;
      width: 90%;
      text-align: center;
      animation: slideInUp 0.6s ease-out;
    }
    
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .auth-title {
      font-size: 2rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 0.5rem;
    }
    
    .auth-subtitle {
      color: #718096;
      margin-bottom: 2rem;
      font-size: 1rem;
    }
    
    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .input-group {
      position: relative;
    }
    
    .input-group input {
      width: 100%;
      padding: 15px 20px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
      background: #ffffff;
      color: #2d3748;
    }
    
    .input-group input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      transform: translateY(-2px);
    }
    
    .input-group label {
      position: absolute;
      left: 20px;
      top: 15px;
      color: #a0aec0;
      font-size: 16px;
      transition: all 0.3s ease;
      pointer-events: none;
    }
    
    .input-group input:focus + label,
    .input-group input:not(:placeholder-shown) + label {
      transform: translateY(-25px) scale(0.8);
      color: #667eea;
      background: white;
      padding: 0 5px;
    }
    
    .login-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 15px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .login-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }
    
    .login-btn:active {
      transform: translateY(0);
    }
    
    .login-btn.loading {
      pointer-events: none;
      opacity: 0.8;
    }
    
    .login-btn.loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .remember-me {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: -0.5rem 0 0.5rem 0;
    }
    
    .checkbox-label {
      display: flex;
      align-items: center;
      cursor: pointer;
      font-size: 14px;
      color: #4a5568;
      user-select: none;
    }
    
    .checkbox-label input[type="checkbox"] {
      display: none;
    }
    
    .checkmark {
      width: 20px;
      height: 20px;
      border: 2px solid #e2e8f0;
      border-radius: 4px;
      margin-right: 8px;
      position: relative;
      transition: all 0.3s ease;
      background: white;
    }
    
    .checkbox-label input[type="checkbox"]:checked + .checkmark {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: #667eea;
    }
    
    .checkbox-label input[type="checkbox"]:checked + .checkmark::after {
      content: '';
      position: absolute;
      left: 6px;
      top: 2px;
      width: 6px;
      height: 10px;
      border: solid white;
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .error-message {
      background: rgba(254, 178, 178, 0.9);
      color: #e53e3e;
      padding: 12px 16px;
      border-radius: 8px;
      font-size: 14px;
      margin-top: 1rem;
      border: 1px solid #feb2b2;
      opacity: 0;
      animation: fadeIn 0.3s ease-out forwards;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π –≤—ã—Ö–æ–¥–∞ */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .header-content {
      text-align: left;
      flex: 1;
    }
    
    .logout-btn {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-shrink: 0;
    }
    
    .logout-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    
    .logout-btn::before {
      content: "üö™";
      font-size: 16px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    h1 {
      font-size: 3rem;
      font-weight: 800;
      color: #ffffff;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
      opacity: 0;
      animation: fadeInUp 1s ease-out forwards;
      margin-bottom: 0.5rem;
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.8);
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
      opacity: 0;
      animation: fadeInUp 1s ease-out 0.2s forwards;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .filters {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      opacity: 0;
      animation: fadeInUp 1s ease-out 0.2s forwards;
    }
    
    .filter-group {
      position: relative;
    }
    
    .filter-group label {
      display: block;
      font-weight: 600;
      color: #4a5568;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    input[type="text"], select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
      background: #ffffff;
      color: #2d3748;
    }
    
    input[type="text"]:focus, select:focus {
      outline: none;
      border-color: #00f2fe;
      box-shadow: 0 0 0 3px rgba(0, 242, 254, 0.1);
      transform: translateY(-2px);
    }
    
    .stats {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 1.5rem;
      border-radius: 16px;
      margin-bottom: 2rem;
      text-align: center;
      box-shadow: 0 15px 35px rgba(0,0,0,0.1);
      font-size: 1.1rem;
      font-weight: 500;
      color: #4a5568;
      opacity: 0;
      animation: fadeInUp 1s ease-out 0.4s forwards;
    }
    
    .stats strong {
      color: #00a8cc;
      font-weight: 700;
    }
    
    .month-group {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      padding: 2rem;
      margin-bottom: 2rem;
      opacity: 0;
      animation: slideInUp 0.6s ease-out forwards;
      overflow: hidden;
      position: relative;
    }
    
    .month-group::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #4facfe, #00f2fe, #43e97b);
    }
    
    .month-group h2 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: #00a8cc;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .month-group h2::before {
      content: "üéÇ";
      font-size: 1.5rem;
    }
    
    .person-card {
      display: flex;
      align-items: center;
      padding: 1.5rem;
      border-radius: 16px;
      margin-bottom: 1rem;
      transition: all 0.3s ease;
      border: 2px solid transparent;
      background: #ffffff;
      position: relative;
      overflow: hidden;
    }
    
    .person-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 242, 254, 0.1), transparent);
      transition: left 0.5s ease;
    }
    
    .person-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 25px 50px rgba(0,0,0,0.15);
      border-color: #00f2fe;
    }
    
    .person-card:hover::before {
      left: 100%;
    }
    
    .person-photo {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 1.5rem;
      cursor: pointer;
      border: 3px solid #ffffff;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      transition: all 0.3s ease;
      position: relative;
    }
    
    .person-photo:hover {
      transform: scale(1.1);
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    }
    
    .person-photo.no-photo {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.8rem;
      text-align: center;
      font-weight: 600;
    }
    
    .person-info {
      flex: 1;
      position: relative;
    }
    
    .person-name {
      font-weight: 700;
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: #2d3748;
    }
    
    .person-details {
      color: #718096;
      font-size: 0.95rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.5rem;
    }
    
    .person-details div {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .person-details div::before {
      content: "üìÖ";
      font-size: 0.9rem;
    }
    
    .person-details div:nth-child(2)::before {
      content: "üéØ";
    }
    
    .person-details div:nth-child(3)::before {
      content: "‚è∞";
    }
    
    .person-details div:nth-child(4)::before {
      content: "üìû";
    }
    
    .loading, .error {
      text-align: center;
      padding: 3rem;
      font-size: 1.2rem;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      margin: 2rem 0;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    
    .loading {
      color: #00a8cc;
      position: relative;
    }
    
    .loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 30px;
      height: 30px;
      margin: -15px 0 0 -15px;
      border: 3px solid rgba(0, 168, 204, 0.3);
      border-top: 3px solid #00a8cc;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .error {
      color: #e53e3e;
      background: rgba(254, 178, 178, 0.9);
      border: 2px solid #feb2b2;
    }
    
    .no-results {
      text-align: center;
      padding: 3rem;
      color: #a0aec0;
      font-style: italic;
      font-size: 1.2rem;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    
    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
    #modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }
    
    #modal img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 20px;
      box-shadow: 0 0 50px rgba(0,0,0,0.5);
      animation: modalZoom 0.3s ease-out;
    }
    
    @keyframes modalZoom {
      from {
        transform: scale(0.8);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }
    
    .close-modal {
      position: absolute;
      top: 2rem;
      right: 2rem;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .close-modal:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }
    
    .holiday-card {
      background: #fff9e5;
      border: 2px solid #f5c36d;
      border-radius: 12px;
      padding: 1em;
      margin: 1em auto;
      max-width: 600px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    
    .holiday-card h3 {
      margin-top: 0;
      font-size: 1.3em;
      color: #cc8500;
    }
    
    .holiday-card ul {
      margin: 0;
      padding-left: 1.2em;
    }
    
    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä—ã—Ç—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
    .hidden {
      display: none;
    }
    
    /* –ü–ª–∞–≤–∞—é—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã –Ω–∞ —Ñ–æ–Ω–µ */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float 15s infinite linear;
    }
    
    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
    @media (max-width: 768px) {
      .container {
        padding: 0.5rem;
      }
      
      .auth-container {
        padding: 2rem;
        margin: 1rem;
      }
      
      .auth-title {
        font-size: 1.5rem;
      }
      
      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }
      
      .header-content {
        text-align: center;
        width: 100%;
      }
      
      .logout-btn {
        align-self: center;
        padding: 8px 15px;
        font-size: 12px;
      }
      
      h1 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
      }
      
      .subtitle {
        font-size: 1rem;
      }
      
      .filters {
        grid-template-columns: 1fr;
        padding: 1rem;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      
      .stats {
        padding: 1rem;
        margin-bottom: 1rem;
        font-size: 0.9rem;
      }
      
      .person-card {
        flex-direction: row;
        padding: 1rem;
        margin-bottom: 0.5rem;
        align-items: flex-start;
      }
      
      .person-photo {
        width: 60px;
        height: 60px;
        margin-right: 1rem;
        margin-bottom: 0;
        flex-shrink: 0;
      }
      
      .person-info {
        flex: 1;
        min-width: 0;
      }
      
      .person-name {
        font-size: 1.1rem;
        margin-bottom: 0.3rem;
      }
      
      .person-details {
        grid-template-columns: 1fr;
        gap: 0.2rem;
        font-size: 0.85rem;
      }
      
      .person-details div {
        gap: 0.3rem;
      }
      
      .person-details div::before {
        font-size: 0.8rem;
        flex-shrink: 0;
      }
      
      .month-group {
        padding: 1rem;
        margin-bottom: 1rem;
      }
      
      .month-group h2 {
        font-size: 1.4rem;
        margin-bottom: 1rem;
      }
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
    .person-card {
      animation: fadeInCard 0.6s ease-out forwards;
    }
    
    @keyframes fadeInCard {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
  <div id="authOverlay" class="auth-overlay" style="display: flex;">
    <div class="auth-container">
      <h2 class="auth-title">üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</h2>
      <p class="auth-subtitle">–í–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–∏—Å—Ç–µ–º–∏</p>
      
      <form id="loginForm" class="auth-form">
        <div class="input-group">
          <input type="text" id="username" placeholder=" " required="">
          <label for="username">–õ–æ–≥—ñ–Ω</label>
        </div>
        
        <div class="input-group">
          <input type="password" id="password" placeholder=" " required="">
          <label for="password">–ü–∞—Ä–æ–ª—å</label>
        </div>

        <div class="remember-me">
          <label class="checkbox-label">
            <input type="checkbox" id="rememberMe" checked="">
            <span class="checkmark"></span>
            –ó–∞–ø–∞–º'—è—Ç–∞—Ç–∏ –º–µ–Ω–µ
          </label>
        </div>
        
        <button type="submit" class="login-btn">
          <span class="btn-text">–£–≤—ñ–π—Ç–∏</span>
        </button>
      </form>
      
      <div id="loginError" class="error-message hidden"></div>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
  <div id="mainApp" class="hidden">
    <div class="particles"></div>
    
    <div class="container">
      <div class="header">
        <div class="header-content">
          <h1>üéâ –Ü–º–µ–Ω–∏–Ω–Ω–∏–∫–∏</h1>
          <div class="subtitle">–¶–µ—Ä–∫–≤–∞ –Ñ–•–ë '–î—ñ–º –Ñ–≤–∞–Ω–≥–µ–ª—ñ—è'</div>
          <div class="subtitle">–º.–°—É–º–∏, ¬© 2025—Ä.</div>
        </div>
        <button id="logoutBtn" class="logout-btn">–í–∏–π—Ç–∏</button>
      </div>
      
      <div id="holidayCard" class="holiday-card" style="display:none;"></div>
      
      <div id="birthdayList"></div> 

      <div id="todayList" class="month-group hidden">
        <h3>üéÅ –Ü–º–µ–Ω–∏–Ω–Ω–∏–∫–∏ —Å—å–æ–≥–æ–¥–Ω—ñ</h3>
        <div id="todayCards"></div>
      </div>   
   
      <div class="filters">
        <div class="filter-group">
          <label for="search">–ü–æ—à—É–∫</label>
          <input type="text" id="search" placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è –¥–ª—è –ø–æ—à—É–∫—É...">
        </div>
        
        <div class="filter-group">
          <label for="monthFilter">–ú—ñ—Å—è—Ü—å</label>
          <select id="monthFilter">
            <option value="">–í—Å—ñ –º—ñ—Å—è—Ü—ñ</option>
            <option value="0">–°—ñ—á–µ–Ω—å</option>
            <option value="1">–õ—é—Ç–∏–π</option>
            <option value="2">–ë–µ—Ä–µ–∑–µ–Ω—å</option>
            <option value="3">–ö–≤—ñ—Ç–µ–Ω—å</option>
            <option value="4">–¢—Ä–∞–≤–µ–Ω—å</option>
            <option value="5">–ß–µ—Ä–≤–µ–Ω—å</option>
            <option value="6">–õ–∏–ø–µ–Ω—å</option>
            <option value="7">–°–µ—Ä–ø–µ–Ω—å</option>
            <option value="8">–í–µ—Ä–µ—Å–µ–Ω—å</option>
            <option value="9">–ñ–æ–≤—Ç–µ–Ω—å</option>
            <option value="10">–õ–∏—Å—Ç–æ–ø–∞–¥</option>
            <option value="11">–ì—Ä—É–¥–µ–Ω—å</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="photoFilter">–§–æ—Ç–æ</label>
          <select id="photoFilter">
            <option value="">–í—Å—ñ</option>
            <option value="with">–ó —Ñ–æ—Ç–æ</option>
            <option value="without">–ë–µ–∑ —Ñ–æ—Ç–æ</option>
          </select>
        </div>
      </div>
      
      <div id="stats" class="stats"></div>
      <div id="loading" class="loading">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö...</div>
      <div id="error" class="error hidden"></div>
      <div id="list"></div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal">
      <button class="close-modal">√ó</button>
      <img id="modal-img" src="" alt="–§–æ—Ç–æ">
    </div>

    <button id="toTop" style="position:fixed;bottom:20px;right:20px;padding:10px 15px;border:none;border-radius:10px;background:#00a8cc;color:white;font-size:1.2rem;display:none;z-index:1000;box-shadow:0 5px 15px rgba(0,0,0,0.3);cursor:pointer;">‚Üë</button>
  </div>

<script>
// –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
class AuthSystem {
 constructor() {
   this.users = {
     'admin': 'password123',
     'pastor': 'nikolay2025',
     'user': 'gospel123'
   };
   this.currentUser = null;
   this.init();
 }

 init() {
   // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   const savedUser = localStorage.getItem('currentUser');
   const savedCredentials = localStorage.getItem('userCredentials');
   
   if (savedUser && savedCredentials) {
     this.currentUser = savedUser;
     // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
     const credentials = JSON.parse(savedCredentials);
     document.getElementById('username').value = credentials.username;
     document.getElementById('password').value = credentials.password;
     this.showMainApp();
   } else {
     // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É
     if (savedCredentials) {
       const credentials = JSON.parse(savedCredentials);
       document.getElementById('username').value = credentials.username;
       document.getElementById('password').value = credentials.password;
     }
     this.showAuthScreen();
   }

   // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
   document.getElementById('loginForm').addEventListener('submit', (e) => this.handleLogin(e));
   document.getElementById('logoutBtn').addEventListener('click', () => this.logout());
 }

 showAuthScreen() {
   document.getElementById('authOverlay').style.display = 'flex';
   document.getElementById('mainApp').classList.add('hidden');
 }

 showMainApp() {
   document.getElementById('authOverlay').style.display = 'none';
   document.getElementById('mainApp').classList.remove('hidden');
   
   // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   if (!window.appInitialized) {
     initMainApp();
     window.appInitialized = true;
   }
 }

 async handleLogin(e) {
   e.preventDefault();
   
   const username = document.getElementById('username').value.trim();
   const password = document.getElementById('password').value;
   const loginBtn = document.querySelector('.login-btn');
   const btnText = loginBtn.querySelector('.btn-text');
   const errorDiv = document.getElementById('loginError');
   const rememberMe = document.getElementById('rememberMe')?.checked || true; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø–æ–º–∏–Ω–∞–µ–º

   // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
   loginBtn.classList.add('loading');
   btnText.textContent = '';
   errorDiv.classList.add('hidden');

   // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
   await new Promise(resolve => setTimeout(resolve, 1000));

   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
   if (this.users[username] && this.users[username] === password) {
     this.currentUser = username;
     
     // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     localStorage.setItem('currentUser', username);
     if (rememberMe) {
       localStorage.setItem('userCredentials', JSON.stringify({
         username: username,
         password: password
       }));
     }
     
     // –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
     loginBtn.style.background = 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)';
     btnText.textContent = '–£—Å–ø—ñ—Ö!';
     
     setTimeout(() => {
       this.showMainApp();
       this.resetLoginForm();
     }, 1000);
     
   } else {
     // –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞
     loginBtn.classList.remove('loading');
     loginBtn.style.background = 'linear-gradient(135deg, #f56565 0%, #e53e3e 100%)';
     btnText.textContent = '–ü–æ–º–∏–ª–∫–∞!';
     
     errorDiv.textContent = '–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å';
     errorDiv.classList.remove('hidden');
     
     setTimeout(() => {
       this.resetLoginForm();
     }, 2000);
   }
 }

 resetLoginForm() {
   const loginBtn = document.querySelector('.login-btn');
   const btnText = loginBtn.querySelector('.btn-text');
   
   loginBtn.classList.remove('loading');
   loginBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
   btnText.textContent = '–£–≤—ñ–π—Ç–∏';
   document.getElementById('loginForm').reset();
 }

 logout() {
   // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
   if (confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–π—Ç–∏? –î–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É –±—É–¥—É—Ç—å –≤–∏–¥–∞–ª–µ–Ω—ñ.')) {
     this.currentUser = null;
     // –û—á–∏—â–∞–µ–º –≤—Å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
     localStorage.removeItem('currentUser');
     localStorage.removeItem('userCredentials');
     this.showAuthScreen();
     this.resetLoginForm();
     // –û—á–∏—â–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã
     document.getElementById('username').value = '';
     document.getElementById('password').value = '';
   }
 }
}

// –§—É–Ω–∫—Ü–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
function linkifyPhones(text) {
 const phoneRegex = /(\+?\d[\d\s\-().]{5,}\d)/g;
 return text.replace(phoneRegex, match => {
   const cleaned = match.replace(/[^\d+]/g, '');
   return `<a href="tel:${cleaned}">${match}</a>`;
 });
}

// –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö"
function initScrollToTop() {
 window.addEventListener('scroll', () => {
   document.getElementById('toTop').style.display = window.scrollY > 300 ? 'block' : 'none';
 });
 
 document.getElementById('toTop').addEventListener('click', () => {
   window.scrollTo({ top: 0, behavior: 'smooth' });
 });
}

// –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü –Ω–∞ —Ñ–æ–Ω–µ
function createParticles() {
 const particles = document.querySelector('.particles');
 for (let i = 0; i < 50; i++) {
   const particle = document.createElement('div');
   particle.className = 'particle';
   particle.style.left = Math.random() * 100 + '%';
   particle.style.animationDelay = Math.random() * 15 + 's';
   particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
   particles.appendChild(particle);
 }
}

// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ü–∞—Å—Ö–∏ –ø–æ –ì—Ä–∏–≥–æ—Ä–∏–∞–Ω—Å–∫–æ–º—É –∫–∞–ª–µ–Ω–¥–∞—Ä—é
function getWesternEaster(year) {
 const f = Math.floor,
   a = year % 19,
   b = f(year / 100),
   c = year % 100,
   d = f(b / 4),
   e = b % 4,
   f1 = f((b + 8) / 25),
   g = f((b - f1 + 1) / 3),
   h = (19 * a + b - d - g + 15) % 30,
   i = f(c / 4),
   k = c % 4,
   l = (32 + 2 * e + 2 * i - h - k) % 7,
   m = f((a + 11 * h + 22 * l) / 451),
   month = f((h + l - 7 * m + 114) / 31),
   day = ((h + l - 7 * m + 114) % 31) + 1;
 return new Date(year, month - 1, day);
}

// –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏
function getChristianHolidays(year) {
 const easter = getWesternEaster(year);
 const ms = 24 * 60 * 60 * 1000;

 return [
   { name: "–†—ñ–∑–¥–≤–æ –•—Ä–∏—Å—Ç–æ–≤–µ", date: new Date(year, 11, 25) },
   { name: "–í–æ—Å–∫—Ä–µ—Å—ñ–Ω–Ω—è –•—Ä–∏—Å—Ç–æ–≤–µ (–ü–∞—Å—Ö–∞)", date: easter },
   { name: "–í–æ–∑–Ω–µ—Å—ñ–Ω–Ω—è –ì–æ—Å–ø–æ–¥–Ω—î", date: new Date(easter.getTime() + 39 * ms) },
   { name: "–î–µ–Ω—å –ü'—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü—ñ", date: new Date(easter.getTime() + 49 * ms) },
   { name: "–ù–æ–≤–∏–π –†—ñ–∫", date: new Date(year, 0, 1) },
 ];
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—Ö–æ–¥–∏—Ç –ª–∏ –¥–∞—Ç–∞ –≤ –∑–∞–¥–∞–Ω–Ω—É—é –Ω–µ–¥–µ–ª—é
function isDateInWeek(date, weekStart) {
 const d = new Date(date.getFullYear(), date.getMonth(), date.getDate());
 return d >= weekStart && d < new Date(weekStart.getTime() + 7 * 24 * 60 * 60 * 1000);
}

// –í—ã–≤–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º–∏
function showHolidayCardIfNeeded() {
 const today = new Date();
 const currentWeekStart = new Date(today);
 currentWeekStart.setDate(today.getDate() - today.getDay());

 const holidays = getChristianHolidays(today.getFullYear())
   .filter(h => isDateInWeek(h.date, currentWeekStart));

 if (holidays.length === 0) return;

 const holidayCard = document.getElementById('holidayCard');
 holidayCard.innerHTML = `
   <h3>–•—Ä–∏—Å—Ç–∏—è–Ω—Å—å–∫—ñ —Å–≤—è—Ç–∞ —Ü—å–æ–≥–æ —Ç–∏–∂–Ω—è</h3>
   <ul>
     ${holidays.map(h => `<li><strong>${h.name}</strong> ‚Äî ${h.date.toLocaleDateString('uk-UA')}</li>`).join('')}
   </ul>
 `;
 holidayCard.style.display = 'block';
}

// –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
function initMainApp() {
 const fileId = '1BsQR7Q1HfDx1u0QeHnzY8gvlac2iUYFA';
 const apiKey = 'AIzaSyAlxAoAyke0AAkiI3akNyWLNVwtoycjkgA';
 
 let allPeople = [];
 let filteredPeople = [];
 
 const monthNames = [
   '–°—ñ—á–µ–Ω—å', '–õ—é—Ç–∏–π', '–ë–µ—Ä–µ–∑–µ–Ω—å', '–ö–≤—ñ—Ç–µ–Ω—å', '–¢—Ä–∞–≤–µ–Ω—å', '–ß–µ—Ä–≤–µ–Ω—å',
   '–õ–∏–ø–µ–Ω—å', '–°–µ—Ä–ø–µ–Ω—å', '–í–µ—Ä–µ—Å–µ–Ω—å', '–ñ–æ–≤—Ç–µ–Ω—å', '–õ–∏—Å—Ç–æ–ø–∞–¥', '–ì—Ä—É–¥–µ–Ω—å'
 ];

 async function loadData() {
   try {
     hideAll();
     document.getElementById('loading').classList.remove('hidden');

     const url = `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media&key=${apiKey}`;
     const res = await fetch(url);
     if (!res.ok) throw new Error('HTTP ' + res.status);
     const json = await res.json();
     
     allPeople = json.entries.map(person => {
       const birthDate = new Date(person.birthdate);
       const age = calculateAge(birthDate);
       
       return {
         name: person.lastname,
         birthDate: birthDate,
         age: age,
         phone: person.phone || '',
         id: person.id || '',
         hasPhoto: !!(person.id && person.id.trim())
       };
     });
     
     filteredPeople = [...allPeople];
     renderData();
     
   } catch (e) {
     showError(e.message);
   }
 }

 function hideAll() {
   document.getElementById('loading').classList.add('hidden');
   document.getElementById('error').classList.add('hidden');
   document.getElementById('list').innerHTML = '';
   document.getElementById('stats').innerHTML = '';
 }

 function showError(msg) {
   hideAll();
   const err = document.getElementById('error');
   err.textContent = '–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ' + msg;
   err.classList.remove('hidden');
 }

 function calculateAge(birthDate) {
   const today = new Date();
   let age = today.getFullYear() - birthDate.getFullYear();
   const m = today.getMonth() - birthDate.getMonth();
   if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) age--;
   return age;
 }

 function openModal(src) {
   const modal = document.getElementById('modal');
   const img = document.getElementById('modal-img');
   img.src = src;
   modal.style.display = 'flex';
 }

 function closeModal() {
   document.getElementById('modal').style.display = 'none';
 }

 function applyFilters() {
   const searchTerm = document.getElementById('search').value.toLowerCase();
   const monthFilter = document.getElementById('monthFilter').value;
   const photoFilter = document.getElementById('photoFilter').value;
   
   filteredPeople = allPeople.filter(person => {
     const matchesSearch = person.name.toLowerCase().includes(searchTerm);
     const matchesMonth = monthFilter === '' || person.birthDate.getMonth() === parseInt(monthFilter);
     
     let matchesPhoto = true;
     if (photoFilter === 'with') {
       matchesPhoto = person.hasPhoto;
     } else if (photoFilter === 'without') {
       matchesPhoto = !person.hasPhoto;
     }
     
     return matchesSearch && matchesMonth && matchesPhoto;
   });
   
   renderData();
 }

 function renderData() {
   hideAll();

   const stats = document.getElementById('stats');
   const withPhoto = filteredPeople.filter(p => p.hasPhoto).length;
   const withoutPhoto = filteredPeople.filter(p => !p.hasPhoto).length;

   stats.innerHTML = `
     <strong>–í—Å—å–æ–≥–æ: ${filteredPeople.length}</strong> | 
     –ó —Ñ–æ—Ç–æ: ${withPhoto} | 
     –ë–µ–∑ —Ñ–æ—Ç–æ: ${withoutPhoto}
   `;

   if (filteredPeople.length === 0) {
     document.getElementById('list').innerHTML = '<div class="no-results">üîç –ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</div>';
     return;
   }

   const today = new Date();
   const todayPeople = filteredPeople.filter(p =>
     p.birthDate.getDate() === today.getDate() &&
     p.birthDate.getMonth() === today.getMonth()
   );

   const todayBlock = document.getElementById('todayList');
   const todayCards = document.getElementById('todayCards');
   todayCards.innerHTML = '';

   if (todayPeople.length > 0) {
     todayBlock.classList.remove('hidden');

     todayPeople.forEach((person, index) => {
       const card = document.createElement('div');
       card.className = 'person-card';
       card.style.animationDelay = (index * 0.05) + 's';
       card.style.background = '#fff3cd';
       card.style.borderColor = '#ff9900';
       card.style.boxShadow = '0 0 15px rgba(255, 153, 0, 0.6)';

       const photo = document.createElement('div');
       if (person.hasPhoto) {
         const img = document.createElement('img');
         img.src = `https://drive.google.com/thumbnail?id=${person.id}&sz=w200`;
         img.alt = person.name;
         img.className = 'person-photo';
         img.onerror = () => {
           img.src = 'https://raw.githubusercontent.com/christian-word/slider/main/4054617.png';
         };
         img.onclick = () => openModal(`https://drive.google.com/thumbnail?id=${person.id}&sz=w1000`);
         photo.appendChild(img);
       } else {
         const placeholder = document.createElement('div');
         placeholder.className = 'person-photo no-photo';
         placeholder.textContent = '–ù–µ–º–∞—î —Ñ–æ—Ç–æ';
         photo.appendChild(placeholder);
       }

       const info = document.createElement('div');
       info.className = 'person-info';

       const name = document.createElement('div');
       name.className = 'person-name';
       name.textContent = person.name;

       const details = document.createElement('div');
       details.className = 'person-details';

       const birthDateStr = person.birthDate.toLocaleDateString('uk-UA');
       const birthYear = person.birthDate.getFullYear();

       details.innerHTML = `
         <div>–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è: ${birthDateStr}</div>
         <div>–†—ñ–∫: ${birthYear}</div>
         <div>–í—ñ–∫: ${person.age} —Ä–æ–∫—ñ–≤</div>
         ${person.phone ? `<div>–¢–µ–ª–µ—Ñ–æ–Ω: ${linkifyPhones(person.phone)}</div>` : ''}
       `;

       info.appendChild(name);
       info.appendChild(details);
       card.appendChild(photo);
       card.appendChild(info);
       todayCards.appendChild(card);
     });

   } else {
     todayBlock.classList.add('hidden');
   }

   const peopleByMonth = {};
   filteredPeople.forEach(person => {
     const month = person.birthDate.getMonth();
     if (!peopleByMonth[month]) {
       peopleByMonth[month] = [];
     }
     peopleByMonth[month].push(person);
   });

   Object.keys(peopleByMonth).forEach(month => {
     peopleByMonth[month].sort((a, b) => a.birthDate.getDate() - b.birthDate.getDate());
   });

   const container = document.getElementById('list');
   container.innerHTML = '';

   Object.keys(peopleByMonth).sort((a, b) => a - b).forEach((month, index) => {
     const monthGroup = document.createElement('div');
     monthGroup.className = 'month-group';
     monthGroup.style.animationDelay = (index * 0.1) + 's';

     const title = document.createElement('h2');
     title.textContent = `${monthNames[month]} (${peopleByMonth[month].length})`;
     monthGroup.appendChild(title);

     peopleByMonth[month].forEach((person, personIndex) => {
       const card = document.createElement('div');
       const isToday = (() => {
         const today = new Date();
         return person.birthDate.getDate() === today.getDate() &&
                person.birthDate.getMonth() === today.getMonth();
       })();
       if (isToday) {
         card.style.background = '#fff3cd';
         card.style.borderColor = '#ff9900';
         card.style.boxShadow = '0 0 15px rgba(255, 153, 0, 0.6)';
       }

       card.className = 'person-card';
       card.style.animationDelay = (index * 0.1 + personIndex * 0.05) + 's';

       const photo = document.createElement('div');
       if (person.hasPhoto) {
         const img = document.createElement('img');
         img.src = `https://drive.google.com/thumbnail?id=${person.id}&sz=w200`;
         img.alt = person.name;
         img.className = 'person-photo';
         img.onerror = () => {
           img.src = 'https://raw.githubusercontent.com/christian-word/slider/main/4054617.png';
         };
         img.onclick = () => openModal(`https://drive.google.com/thumbnail?id=${person.id}&sz=w1000`);
         photo.appendChild(img);
       } else {
         const placeholder = document.createElement('div');
         placeholder.className = 'person-photo no-photo';
         placeholder.textContent = '–ù–µ–º–∞—î —Ñ–æ—Ç–æ';
         photo.appendChild(placeholder);
       }

       const info = document.createElement('div');
       info.className = 'person-info';

       const name = document.createElement('div');
       name.className = 'person-name';
       name.textContent = person.name;

       const details = document.createElement('div');
       details.className = 'person-details';

       const birthDateStr = person.birthDate.toLocaleDateString('uk-UA');
       const birthYear = person.birthDate.getFullYear();

       details.innerHTML = `
         <div>–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è: ${birthDateStr}</div>
         <div>–†—ñ–∫: ${birthYear}</div>
         <div>–í—ñ–∫: ${person.age} —Ä–æ–∫—ñ–≤</div>
         ${person.phone ? `<div>–¢–µ–ª–µ—Ñ–æ–Ω: ${linkifyPhones(person.phone)}</div>` : ''}
       `;

       info.appendChild(name);
       info.appendChild(details);
       card.appendChild(photo);
       card.appendChild(info);
       monthGroup.appendChild(card);
     });

     container.appendChild(monthGroup);
   });
 }

 // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
 document.getElementById('search').addEventListener('input', applyFilters);
 document.getElementById('monthFilter').addEventListener('change', applyFilters);
 document.getElementById('photoFilter').addEventListener('change', applyFilters);
 
 // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
 document.getElementById('modal').addEventListener('click', (e) => {
   if (e.target.id === 'modal') closeModal();
 });
 document.querySelector('.close-modal').addEventListener('click', closeModal);
 
 // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ Escape
 document.addEventListener('keydown', (e) => {
   if (e.key === 'Escape') closeModal();
 });

 // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
 createParticles();
 showHolidayCardIfNeeded();
 initScrollToTop();
 loadData();
}

// –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', () => {
 new AuthSystem();
});
    </script>
</body>
</html>
